<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <script type="text/javascript">
            !(function (a, b) {
                a('StreamAnalytics', 'http://d2j1fszo1axgmp.cloudfront.net/2.0.0-alpha/getstream-analytics.min.js', b);
            })(function (a, b, c) {
                var d, e, f;
                (c['_' + a] = {}),
                    (c[a] = function (b) {
                        (c['_' + a].clients = c['_' + a].clients || {}),
                            (c['_' + a].clients[b.projectId] = this),
                            (this._config = b);
                    }),
                    (d = ['setUser', 'trackImpression', 'trackEngagement']);
                for (var g = 0; g < d.length; g++) {
                    var h = d[g],
                        i = function (a) {
                            return function () {
                                return (this['_' + a] = this['_' + a] || []), this['_' + a].push(arguments), this;
                            };
                        };
                    c[a].prototype[h] = i(h);
                }
                (e = document.createElement('script')),
                    (e.async = !0),
                    (e.src = b),
                    (f = document.getElementsByTagName('script')[0]),
                    f.parentNode.insertBefore(e, f);
            }, this);
        </script>
        <script type="text/javascript">
            var apiKey = 'szhmf34fz9bu';
            var token =
                'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyZXNvdXJjZSI6ImFuYWx5dGljcyIsImFjdGlvbiI6IioiLCJ1c2VyX2lkIjoiKiJ9.yl6rNj_FckORWvGZBmLVLyrlJMFn6pl26AF0n5N1qrQ';

            var client = new StreamAnalytics({
                apiKey: apiKey,
                token: token,
            });
            client.setUser('thierry');
            var impression = {
                foreign_ids: ['message:34349698'],
                feed_id: 'user:ChartMill',
            };
            // sends many impression to the APIs
            client.trackImpression(impression, function () {
                console.log(arguments);
            });
            // Click on a message
            var engagement = {
                label: 'click',
                score: 10,
                foreignId: 'message:34349698',
                feed_id: 'user:ChartMill',
            };
            client.trackEngagement(engagement, function () {
                console.log(arguments);
            });
        </script>
    </head>
    <body></body>
</html>
